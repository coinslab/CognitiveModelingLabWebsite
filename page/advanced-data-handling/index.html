<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/CognitiveModelingLabWebsite/libs/highlight/github.min.css"> <link rel=stylesheet  href="/CognitiveModelingLabWebsite/css/franklin.css"> <link rel=stylesheet  href="/CognitiveModelingLabWebsite/css/poole_hyde.css"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 768px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <link rel=icon  href="/CognitiveModelingLabWebsite/assets/favicon.png"> <title>Advanced Data Handling </title> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <h4><a href="/CognitiveModelingLabWebsite/">Computational Cognitive Modeling Lab</a></h4> <p class=lead >A first course in modeling for Behavioral & Brain Scientists.</p> </div> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/CognitiveModelingLabWebsite/">Home</a> <a class="sidebar-nav-item " href="/CognitiveModelingLabWebsite/software-setup/">Software Setup</a> <a class="sidebar-nav-item " href="/CognitiveModelingLabWebsite/data-handling/">Data Handling</a> <a class="sidebar-nav-item " href="/CognitiveModelingLabWebsite/model-zoo/">Model Zoo</a> </nav> <p>&copy; Cognitive Informatics and Statistics Lab.</p> </div> </div> <div class="content container"> <div class=franklin-content ><h1 id=advanced_data_handling ><a href="#advanced_data_handling">Advanced Data Handling</a></h1> <div class=colbox-yellow >All code used in this module is available <a href="https://github.com/coinslab/ComputationalCognitiveModeling/blob/main/julia-scripts/data-handling/advanced-data-handling.jl">here</a>.</div> <div class=colbox-blue >Please read <a href="/CognitiveModelingLabWebsite/page/getting-to-know-your-data">Fundamentals of Data Handling</a> before reading this module.</div> <p><br/> </p> <p>Most of the times, the data you get wouldn&#39;t be in the format that you require them to be in. In those cases you rely on the querying functionalities &#40;like those supported by SQL&#41; that your language supports for data manipulation. A package that provides a really neat querying syntax is <code>DataFramesMeta</code>. In this module, you will learn how to use various functionalities from the <code>DataFramesMeta</code> package to manipulate your raw data. </p> <p>Loading the packages and the <code>cars</code> dataset from <code>Rdatasets</code></p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> RDatasets
<span class=hljs-keyword >using</span> StatsBase
<span class=hljs-keyword >using</span> DataFrames
<span class=hljs-keyword >using</span> DataFramesMeta
cars = dataset(<span class=hljs-string >&quot;datasets&quot;</span>, <span class=hljs-string >&quot;mtcars&quot;</span>)</code></pre> <p>Before going further, we need to know the column names. We will use the <code>describe&#40;&#41;</code> function to get the column names as well as some other summary statistics of the data. </p> <pre><code class="julia hljs">describe(cars)</code></pre>
<pre><code class="julia hljs"><span class=hljs-number >12</span>×<span class=hljs-number >7</span> DataFrame
 Row │ variable  mean     min          median  max         nmissing  eltype   
     │ <span class=hljs-built_in >Symbol</span>    Union…   <span class=hljs-built_in >Any</span>          Union…  <span class=hljs-built_in >Any</span>         <span class=hljs-built_in >Int64</span>     <span class=hljs-built_in >DataType</span> 
─────┼────────────────────────────────────────────────────────────────────────
   <span class=hljs-number >1</span> │ Model              AMC Javelin          Volvo <span class=hljs-number >142</span>E         <span class=hljs-number >0</span>  <span class=hljs-built_in >String</span>
   <span class=hljs-number >2</span> │ MPG       <span class=hljs-number >20.0906</span>  <span class=hljs-number >10.4</span>         <span class=hljs-number >19.2</span>    <span class=hljs-number >33.9</span>               <span class=hljs-number >0</span>  <span class=hljs-built_in >Float64</span>
   <span class=hljs-number >3</span> │ Cyl       <span class=hljs-number >6.1875</span>   <span class=hljs-number >4</span>            <span class=hljs-number >6.0</span>     <span class=hljs-number >8</span>                  <span class=hljs-number >0</span>  <span class=hljs-built_in >Int64</span>
   <span class=hljs-number >4</span> │ Disp      <span class=hljs-number >230.722</span>  <span class=hljs-number >71.1</span>         <span class=hljs-number >196.3</span>   <span class=hljs-number >472.0</span>              <span class=hljs-number >0</span>  <span class=hljs-built_in >Float64</span>
   <span class=hljs-number >5</span> │ HP        <span class=hljs-number >146.688</span>  <span class=hljs-number >52</span>           <span class=hljs-number >123.0</span>   <span class=hljs-number >335</span>                <span class=hljs-number >0</span>  <span class=hljs-built_in >Int64</span>
   <span class=hljs-number >6</span> │ DRat      <span class=hljs-number >3.59656</span>  <span class=hljs-number >2.76</span>         <span class=hljs-number >3.695</span>   <span class=hljs-number >4.93</span>               <span class=hljs-number >0</span>  <span class=hljs-built_in >Float64</span>
   <span class=hljs-number >7</span> │ WT        <span class=hljs-number >3.21725</span>  <span class=hljs-number >1.513</span>        <span class=hljs-number >3.325</span>   <span class=hljs-number >5.424</span>              <span class=hljs-number >0</span>  <span class=hljs-built_in >Float64</span>
   <span class=hljs-number >8</span> │ QSec      <span class=hljs-number >17.8487</span>  <span class=hljs-number >14.5</span>         <span class=hljs-number >17.71</span>   <span class=hljs-number >22.9</span>               <span class=hljs-number >0</span>  <span class=hljs-built_in >Float64</span>
   <span class=hljs-number >9</span> │ VS        <span class=hljs-number >0.4375</span>   <span class=hljs-number >0</span>            <span class=hljs-number >0.0</span>     <span class=hljs-number >1</span>                  <span class=hljs-number >0</span>  <span class=hljs-built_in >Int64</span>
  <span class=hljs-number >10</span> │ AM        <span class=hljs-number >0.40625</span>  <span class=hljs-number >0</span>            <span class=hljs-number >0.0</span>     <span class=hljs-number >1</span>                  <span class=hljs-number >0</span>  <span class=hljs-built_in >Int64</span>
  <span class=hljs-number >11</span> │ Gear      <span class=hljs-number >3.6875</span>   <span class=hljs-number >3</span>            <span class=hljs-number >4.0</span>     <span class=hljs-number >5</span>                  <span class=hljs-number >0</span>  <span class=hljs-built_in >Int64</span>
  <span class=hljs-number >12</span> │ Carb      <span class=hljs-number >2.8125</span>   <span class=hljs-number >1</span>            <span class=hljs-number >2.0</span>     <span class=hljs-number >8</span>                  <span class=hljs-number >0</span>  <span class=hljs-built_in >Int64</span></code></pre>
<br/>
<p>Let&#39;s say you only want data about the cars that have 4 cylinders. How would we get that?</p>
<pre><code class="julia hljs"><span class=hljs-meta >@linq</span> cars |&gt;
        <span class=hljs-keyword >where</span>(:Cyl .==<span class=hljs-number >4</span>)</code></pre>
<pre><code class="julia hljs"><span class=hljs-number >11</span>×<span class=hljs-number >12</span> DataFrame
 Row │ Model           MPG      Cyl    Disp     HP     DRat     WT       QSec     VS     AM     Gear   Carb  
     │ <span class=hljs-built_in >String</span>          <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Int64</span> 
─────┼───────────────────────────────────────────────────────────────────────────────────────────────────────
   <span class=hljs-number >1</span> │ Datsun <span class=hljs-number >710</span>         <span class=hljs-number >22.8</span>      <span class=hljs-number >4</span>    <span class=hljs-number >108.0</span>     <span class=hljs-number >93</span>     <span class=hljs-number >3.85</span>    <span class=hljs-number >2.32</span>     <span class=hljs-number >18.61</span>      <span class=hljs-number >1</span>      <span class=hljs-number >1</span>      <span class=hljs-number >4</span>      <span class=hljs-number >1</span>
   <span class=hljs-number >2</span> │ Merc <span class=hljs-number >240</span>D          <span class=hljs-number >24.4</span>      <span class=hljs-number >4</span>    <span class=hljs-number >146.7</span>     <span class=hljs-number >62</span>     <span class=hljs-number >3.69</span>    <span class=hljs-number >3.19</span>     <span class=hljs-number >20.0</span>       <span class=hljs-number >1</span>      <span class=hljs-number >0</span>      <span class=hljs-number >4</span>      <span class=hljs-number >2</span>
   <span class=hljs-number >3</span> │ Merc <span class=hljs-number >230</span>           <span class=hljs-number >22.8</span>      <span class=hljs-number >4</span>    <span class=hljs-number >140.8</span>     <span class=hljs-number >95</span>     <span class=hljs-number >3.92</span>    <span class=hljs-number >3.15</span>     <span class=hljs-number >22.9</span>       <span class=hljs-number >1</span>      <span class=hljs-number >0</span>      <span class=hljs-number >4</span>      <span class=hljs-number >2</span>
   <span class=hljs-number >4</span> │ Fiat <span class=hljs-number >128</span>           <span class=hljs-number >32.4</span>      <span class=hljs-number >4</span>     <span class=hljs-number >78.7</span>     <span class=hljs-number >66</span>     <span class=hljs-number >4.08</span>    <span class=hljs-number >2.2</span>      <span class=hljs-number >19.47</span>      <span class=hljs-number >1</span>      <span class=hljs-number >1</span>      <span class=hljs-number >4</span>      <span class=hljs-number >1</span>
   <span class=hljs-number >5</span> │ Honda Civic        <span class=hljs-number >30.4</span>      <span class=hljs-number >4</span>     <span class=hljs-number >75.7</span>     <span class=hljs-number >52</span>     <span class=hljs-number >4.93</span>    <span class=hljs-number >1.615</span>    <span class=hljs-number >18.52</span>      <span class=hljs-number >1</span>      <span class=hljs-number >1</span>      <span class=hljs-number >4</span>      <span class=hljs-number >2</span>
   <span class=hljs-number >6</span> │ Toyota Corolla     <span class=hljs-number >33.9</span>      <span class=hljs-number >4</span>     <span class=hljs-number >71.1</span>     <span class=hljs-number >65</span>     <span class=hljs-number >4.22</span>    <span class=hljs-number >1.835</span>    <span class=hljs-number >19.9</span>       <span class=hljs-number >1</span>      <span class=hljs-number >1</span>      <span class=hljs-number >4</span>      <span class=hljs-number >1</span>
   <span class=hljs-number >7</span> │ Toyota Corona      <span class=hljs-number >21.5</span>      <span class=hljs-number >4</span>    <span class=hljs-number >120.1</span>     <span class=hljs-number >97</span>     <span class=hljs-number >3.7</span>     <span class=hljs-number >2.465</span>    <span class=hljs-number >20.01</span>      <span class=hljs-number >1</span>      <span class=hljs-number >0</span>      <span class=hljs-number >3</span>      <span class=hljs-number >1</span>
   <span class=hljs-number >8</span> │ Fiat X1-<span class=hljs-number >9</span>          <span class=hljs-number >27.3</span>      <span class=hljs-number >4</span>     <span class=hljs-number >79.0</span>     <span class=hljs-number >66</span>     <span class=hljs-number >4.08</span>    <span class=hljs-number >1.935</span>    <span class=hljs-number >18.9</span>       <span class=hljs-number >1</span>      <span class=hljs-number >1</span>      <span class=hljs-number >4</span>      <span class=hljs-number >1</span>
   <span class=hljs-number >9</span> │ Porsche <span class=hljs-number >914</span>-<span class=hljs-number >2</span>      <span class=hljs-number >26.0</span>      <span class=hljs-number >4</span>    <span class=hljs-number >120.3</span>     <span class=hljs-number >91</span>     <span class=hljs-number >4.43</span>    <span class=hljs-number >2.14</span>     <span class=hljs-number >16.7</span>       <span class=hljs-number >0</span>      <span class=hljs-number >1</span>      <span class=hljs-number >5</span>      <span class=hljs-number >2</span>
  <span class=hljs-number >10</span> │ Lotus Europa       <span class=hljs-number >30.4</span>      <span class=hljs-number >4</span>     <span class=hljs-number >95.1</span>    <span class=hljs-number >113</span>     <span class=hljs-number >3.77</span>    <span class=hljs-number >1.513</span>    <span class=hljs-number >16.9</span>       <span class=hljs-number >1</span>      <span class=hljs-number >1</span>      <span class=hljs-number >5</span>      <span class=hljs-number >2</span>
  <span class=hljs-number >11</span> │ Volvo <span class=hljs-number >142</span>E         <span class=hljs-number >21.4</span>      <span class=hljs-number >4</span>    <span class=hljs-number >121.0</span>    <span class=hljs-number >109</span>     <span class=hljs-number >4.11</span>    <span class=hljs-number >2.78</span>     <span class=hljs-number >18.6</span>       <span class=hljs-number >1</span>      <span class=hljs-number >1</span>      <span class=hljs-number >4</span>      <span class=hljs-number >2</span></code></pre>
<ul>
<li><p><code>@linq</code> is a macro that&#39;s telling Julia to lookout for LINQ &#40;Language-Integrated Query&#41; style of querying. The <code>|&gt;</code> is called the pipe operator and is used in between query operations. The <code>where</code> command tells Julia to filter out data satisfying the condition specified. Here the <code>:Cyl .&#61;&#61;4</code> filter out any rows that&#39;s not satisfying the condition.</p>

</ul>
<p>With the same logic, we can also get the details of a specific car model:</p>
<pre><code class="julia hljs"><span class=hljs-meta >@linq</span> cars |&gt;
        <span class=hljs-keyword >where</span>(:Model .== <span class=hljs-string >&quot;Honda Civic&quot;</span>)</code></pre>
<pre><code class="julia hljs"><span class=hljs-number >1</span>×<span class=hljs-number >12</span> DataFrame
 Row │ Model        MPG      Cyl    Disp     HP     DRat     WT       QSec     VS     AM     Gear   Carb  
     │ <span class=hljs-built_in >String</span>       <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Int64</span> 
─────┼────────────────────────────────────────────────────────────────────────────────────────────────────
   <span class=hljs-number >1</span> │ Honda Civic     <span class=hljs-number >30.4</span>      <span class=hljs-number >4</span>     <span class=hljs-number >75.7</span>     <span class=hljs-number >52</span>     <span class=hljs-number >4.93</span>    <span class=hljs-number >1.615</span>    <span class=hljs-number >18.52</span>      <span class=hljs-number >1</span>      <span class=hljs-number >1</span>      <span class=hljs-number >4</span>      <span class=hljs-number >2</span></code></pre>
<p>If you want to have more than one condition, you can list all them together with a comma separating each condition.</p>
<pre><code class="julia hljs"><span class=hljs-meta >@linq</span> cars |&gt;
        <span class=hljs-keyword >where</span>(:Cyl .==<span class=hljs-number >4</span>, :Gear .==<span class=hljs-number >5</span>)</code></pre>
<pre><code class="julia hljs"><span class=hljs-number >2</span>×<span class=hljs-number >12</span> DataFrame
 Row │ Model          MPG      Cyl    Disp     HP     DRat     WT       QSec     VS     AM     Gear   Carb  
     │ <span class=hljs-built_in >String</span>         <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Int64</span> 
─────┼──────────────────────────────────────────────────────────────────────────────────────────────────────
   <span class=hljs-number >1</span> │ Porsche <span class=hljs-number >914</span>-<span class=hljs-number >2</span>     <span class=hljs-number >26.0</span>      <span class=hljs-number >4</span>    <span class=hljs-number >120.3</span>     <span class=hljs-number >91</span>     <span class=hljs-number >4.43</span>    <span class=hljs-number >2.14</span>      <span class=hljs-number >16.7</span>      <span class=hljs-number >0</span>      <span class=hljs-number >1</span>      <span class=hljs-number >5</span>      <span class=hljs-number >2</span>
   <span class=hljs-number >2</span> │ Lotus Europa      <span class=hljs-number >30.4</span>      <span class=hljs-number >4</span>     <span class=hljs-number >95.1</span>    <span class=hljs-number >113</span>     <span class=hljs-number >3.77</span>    <span class=hljs-number >1.513</span>     <span class=hljs-number >16.9</span>      <span class=hljs-number >1</span>      <span class=hljs-number >1</span>      <span class=hljs-number >5</span>      <span class=hljs-number >2</span></code></pre>
<p>But suppose you want to have an OR logic between your conditions. </p>
<pre><code class="julia hljs"><span class=hljs-meta >@linq</span> cars |&gt;
        <span class=hljs-keyword >where</span>( .|(:Cyl .==<span class=hljs-number >4</span>, :Cyl .==<span class=hljs-number >6</span>))</code></pre>
<pre><code class="julia hljs"><span class=hljs-number >18</span>×<span class=hljs-number >12</span> DataFrame
 Row │ Model           MPG      Cyl    Disp     HP     DRat     WT       QSec     VS     AM     Gear   Carb  
     │ <span class=hljs-built_in >String</span>          <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Float64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Int64</span> 
─────┼───────────────────────────────────────────────────────────────────────────────────────────────────────
   <span class=hljs-number >1</span> │ Mazda RX4          <span class=hljs-number >21.0</span>      <span class=hljs-number >6</span>    <span class=hljs-number >160.0</span>    <span class=hljs-number >110</span>     <span class=hljs-number >3.9</span>     <span class=hljs-number >2.62</span>     <span class=hljs-number >16.46</span>      <span class=hljs-number >0</span>      <span class=hljs-number >1</span>      <span class=hljs-number >4</span>      <span class=hljs-number >4</span>
   <span class=hljs-number >2</span> │ Mazda RX4 Wag      <span class=hljs-number >21.0</span>      <span class=hljs-number >6</span>    <span class=hljs-number >160.0</span>    <span class=hljs-number >110</span>     <span class=hljs-number >3.9</span>     <span class=hljs-number >2.875</span>    <span class=hljs-number >17.02</span>      <span class=hljs-number >0</span>      <span class=hljs-number >1</span>      <span class=hljs-number >4</span>      <span class=hljs-number >4</span>
   <span class=hljs-number >3</span> │ Datsun <span class=hljs-number >710</span>         <span class=hljs-number >22.8</span>      <span class=hljs-number >4</span>    <span class=hljs-number >108.0</span>     <span class=hljs-number >93</span>     <span class=hljs-number >3.85</span>    <span class=hljs-number >2.32</span>     <span class=hljs-number >18.61</span>      <span class=hljs-number >1</span>      <span class=hljs-number >1</span>      <span class=hljs-number >4</span>      <span class=hljs-number >1</span>
   <span class=hljs-number >4</span> │ Hornet <span class=hljs-number >4</span> Drive     <span class=hljs-number >21.4</span>      <span class=hljs-number >6</span>    <span class=hljs-number >258.0</span>    <span class=hljs-number >110</span>     <span class=hljs-number >3.08</span>    <span class=hljs-number >3.215</span>    <span class=hljs-number >19.44</span>      <span class=hljs-number >1</span>      <span class=hljs-number >0</span>      <span class=hljs-number >3</span>      <span class=hljs-number >1</span>
   <span class=hljs-number >5</span> │ Valiant            <span class=hljs-number >18.1</span>      <span class=hljs-number >6</span>    <span class=hljs-number >225.0</span>    <span class=hljs-number >105</span>     <span class=hljs-number >2.76</span>    <span class=hljs-number >3.46</span>     <span class=hljs-number >20.22</span>      <span class=hljs-number >1</span>      <span class=hljs-number >0</span>      <span class=hljs-number >3</span>      <span class=hljs-number >1</span>
  ⋮  │       ⋮            ⋮       ⋮       ⋮       ⋮       ⋮        ⋮        ⋮       ⋮      ⋮      ⋮      ⋮
  <span class=hljs-number >14</span> │ Fiat X1-<span class=hljs-number >9</span>          <span class=hljs-number >27.3</span>      <span class=hljs-number >4</span>     <span class=hljs-number >79.0</span>     <span class=hljs-number >66</span>     <span class=hljs-number >4.08</span>    <span class=hljs-number >1.935</span>    <span class=hljs-number >18.9</span>       <span class=hljs-number >1</span>      <span class=hljs-number >1</span>      <span class=hljs-number >4</span>      <span class=hljs-number >1</span>
  <span class=hljs-number >15</span> │ Porsche <span class=hljs-number >914</span>-<span class=hljs-number >2</span>      <span class=hljs-number >26.0</span>      <span class=hljs-number >4</span>    <span class=hljs-number >120.3</span>     <span class=hljs-number >91</span>     <span class=hljs-number >4.43</span>    <span class=hljs-number >2.14</span>     <span class=hljs-number >16.7</span>       <span class=hljs-number >0</span>      <span class=hljs-number >1</span>      <span class=hljs-number >5</span>      <span class=hljs-number >2</span>
  <span class=hljs-number >16</span> │ Lotus Europa       <span class=hljs-number >30.4</span>      <span class=hljs-number >4</span>     <span class=hljs-number >95.1</span>    <span class=hljs-number >113</span>     <span class=hljs-number >3.77</span>    <span class=hljs-number >1.513</span>    <span class=hljs-number >16.9</span>       <span class=hljs-number >1</span>      <span class=hljs-number >1</span>      <span class=hljs-number >5</span>      <span class=hljs-number >2</span>
  <span class=hljs-number >17</span> │ Ferrari Dino       <span class=hljs-number >19.7</span>      <span class=hljs-number >6</span>    <span class=hljs-number >145.0</span>    <span class=hljs-number >175</span>     <span class=hljs-number >3.62</span>    <span class=hljs-number >2.77</span>     <span class=hljs-number >15.5</span>       <span class=hljs-number >0</span>      <span class=hljs-number >1</span>      <span class=hljs-number >5</span>      <span class=hljs-number >6</span>
  <span class=hljs-number >18</span> │ Volvo <span class=hljs-number >142</span>E         <span class=hljs-number >21.4</span>      <span class=hljs-number >4</span>    <span class=hljs-number >121.0</span>    <span class=hljs-number >109</span>     <span class=hljs-number >4.11</span>    <span class=hljs-number >2.78</span>     <span class=hljs-number >18.6</span>       <span class=hljs-number >1</span>      <span class=hljs-number >1</span>      <span class=hljs-number >4</span>      <span class=hljs-number >2</span>
                                                                                               <span class=hljs-number >8</span> rows omitted</code></pre>
<ul>
<li><p>The <code>.|</code> before the <code>&#40;  &#41;</code> is broadcasting the OR operator to all the conditions within the <code>&#40; &#41;</code>.</p>

</ul>
<p>But out of all the columns, if you are only interested in a subset of the columns in the data, you can use the <code>select&#40;&#41;</code> function to choose the ones you are interested in. </p>
<pre><code class="julia hljs"><span class=hljs-meta >@linq</span> cars |&gt;
        <span class=hljs-keyword >where</span>(:Cyl .!=<span class=hljs-number >4</span>) |&gt;
        select(:Model, :MPG)</code></pre>
<pre><code class="julia hljs"><span class=hljs-number >21</span>×<span class=hljs-number >2</span> DataFrame
 Row │ Model                MPG     
     │ <span class=hljs-built_in >String</span>               <span class=hljs-built_in >Float64</span> 
─────┼──────────────────────────────
   <span class=hljs-number >1</span> │ Mazda RX4               <span class=hljs-number >21.0</span>
   <span class=hljs-number >2</span> │ Mazda RX4 Wag           <span class=hljs-number >21.0</span>
   <span class=hljs-number >3</span> │ Hornet <span class=hljs-number >4</span> Drive          <span class=hljs-number >21.4</span>
   <span class=hljs-number >4</span> │ Hornet Sportabout       <span class=hljs-number >18.7</span>
   <span class=hljs-number >5</span> │ Valiant                 <span class=hljs-number >18.1</span>
  ⋮  │          ⋮              ⋮
  <span class=hljs-number >17</span> │ Camaro Z28              <span class=hljs-number >13.3</span>
  <span class=hljs-number >18</span> │ Pontiac Firebird        <span class=hljs-number >19.2</span>
  <span class=hljs-number >19</span> │ Ford Pantera L          <span class=hljs-number >15.8</span>
  <span class=hljs-number >20</span> │ Ferrari Dino            <span class=hljs-number >19.7</span>
  <span class=hljs-number >21</span> │ Maserati Bora           <span class=hljs-number >15.0</span>
                     <span class=hljs-number >11</span> rows omitted</code></pre>
<ul>
<li><p>Here we are saying, we only want to see the Model and MPG of the cars whose number of cylinders is anything but 4. </p>

</ul>
<p>You can also order the data using <code>orderby&#40;&#41;</code> command. By default it will be in the ascending order. To list them in a descending way you can add <code>-</code>ve sign to the variable. </p>
<pre><code class="julia hljs"><span class=hljs-meta >@linq</span> cars |&gt;
        <span class=hljs-keyword >where</span>(:Cyl .==<span class=hljs-number >4</span>) |&gt;
        select(:Model, :MPG) |&gt;
        orderby(-:MPG)</code></pre>
<pre><code class="julia hljs"><span class=hljs-number >11</span>×<span class=hljs-number >2</span> DataFrame
 Row │ Model           MPG     
     │ <span class=hljs-built_in >String</span>          <span class=hljs-built_in >Float64</span> 
─────┼─────────────────────────
   <span class=hljs-number >1</span> │ Toyota Corolla     <span class=hljs-number >33.9</span>
   <span class=hljs-number >2</span> │ Fiat <span class=hljs-number >128</span>           <span class=hljs-number >32.4</span>
   <span class=hljs-number >3</span> │ Honda Civic        <span class=hljs-number >30.4</span>
   <span class=hljs-number >4</span> │ Lotus Europa       <span class=hljs-number >30.4</span>
   <span class=hljs-number >5</span> │ Fiat X1-<span class=hljs-number >9</span>          <span class=hljs-number >27.3</span>
   <span class=hljs-number >6</span> │ Porsche <span class=hljs-number >914</span>-<span class=hljs-number >2</span>      <span class=hljs-number >26.0</span>
   <span class=hljs-number >7</span> │ Merc <span class=hljs-number >240</span>D          <span class=hljs-number >24.4</span>
   <span class=hljs-number >8</span> │ Datsun <span class=hljs-number >710</span>         <span class=hljs-number >22.8</span>
   <span class=hljs-number >9</span> │ Merc <span class=hljs-number >230</span>           <span class=hljs-number >22.8</span>
  <span class=hljs-number >10</span> │ Toyota Corona      <span class=hljs-number >21.5</span>
  <span class=hljs-number >11</span> │ Volvo <span class=hljs-number >142</span>E         <span class=hljs-number >21.4</span></code></pre>
<p>Sometimes in your data pre-processing, you have to create new meaningful variables from your dataset. This is called <strong>feature engineering</strong> and can be achieved with the help of <code>transform&#40;&#41;</code> command in <code>DataFramesMeta</code>.</p>
<pre><code class="julia hljs"><span class=hljs-meta >@linq</span> cars |&gt;
        transform(KPL = :MPG .* <span class=hljs-number >0.425144</span>) |&gt;
        by(:Cyl, meanMPG = mean(:MPG))</code></pre>
<pre><code class="julia hljs"><span class=hljs-number >3</span>×<span class=hljs-number >2</span> DataFrame
 Row │ Cyl    meanMPG 
     │ <span class=hljs-built_in >Int64</span>  <span class=hljs-built_in >Float64</span> 
─────┼────────────────
   <span class=hljs-number >1</span> │     <span class=hljs-number >6</span>  <span class=hljs-number >19.7429</span>
   <span class=hljs-number >2</span> │     <span class=hljs-number >4</span>  <span class=hljs-number >26.6636</span>
   <span class=hljs-number >3</span> │     <span class=hljs-number >8</span>  <span class=hljs-number >15.1</span></code></pre>
<ul>
<li><p>For illustration, here we have created a new column called <code>KPL</code> &#40;kilometers per liter&#41;.</p>

</ul>
<p><code>unstack</code> and <code>stack</code> are commands we use to reshape a data from wide format to long format and vice-versa.</p>
<pre><code class="julia hljs">unstack(cars,:Model,:Cyl,:MPG)</code></pre>
<pre><code class="julia hljs"><span class=hljs-number >32</span>×<span class=hljs-number >4</span> DataFrame
 Row │ Model              <span class=hljs-number >6</span>          <span class=hljs-number >4</span>          <span class=hljs-number >8</span>
     │ <span class=hljs-built_in >String</span>             <span class=hljs-built_in >Float64</span>?   <span class=hljs-built_in >Float64</span>?   <span class=hljs-built_in >Float64</span>?  
─────┼────────────────────────────────────────────────────
   <span class=hljs-number >1</span> │ Mazda RX4               <span class=hljs-number >21.0</span>  <span class=hljs-literal >missing</span>    <span class=hljs-literal >missing</span>   
   <span class=hljs-number >2</span> │ Mazda RX4 Wag           <span class=hljs-number >21.0</span>  <span class=hljs-literal >missing</span>    <span class=hljs-literal >missing</span>   
   <span class=hljs-number >3</span> │ Datsun <span class=hljs-number >710</span>         <span class=hljs-literal >missing</span>         <span class=hljs-number >22.8</span>  <span class=hljs-literal >missing</span>   
   <span class=hljs-number >4</span> │ Hornet <span class=hljs-number >4</span> Drive          <span class=hljs-number >21.4</span>  <span class=hljs-literal >missing</span>    <span class=hljs-literal >missing</span>   
   <span class=hljs-number >5</span> │ Hornet Sportabout  <span class=hljs-literal >missing</span>    <span class=hljs-literal >missing</span>         <span class=hljs-number >18.7</span>
  ⋮  │         ⋮              ⋮          ⋮          ⋮
  <span class=hljs-number >28</span> │ Lotus Europa       <span class=hljs-literal >missing</span>         <span class=hljs-number >30.4</span>  <span class=hljs-literal >missing</span>   
  <span class=hljs-number >29</span> │ Ford Pantera L     <span class=hljs-literal >missing</span>    <span class=hljs-literal >missing</span>         <span class=hljs-number >15.8</span>
  <span class=hljs-number >30</span> │ Ferrari Dino            <span class=hljs-number >19.7</span>  <span class=hljs-literal >missing</span>    <span class=hljs-literal >missing</span>   
  <span class=hljs-number >31</span> │ Maserati Bora      <span class=hljs-literal >missing</span>    <span class=hljs-literal >missing</span>         <span class=hljs-number >15.0</span>
  <span class=hljs-number >32</span> │ Volvo <span class=hljs-number >142</span>E         <span class=hljs-literal >missing</span>         <span class=hljs-number >21.4</span>  <span class=hljs-literal >missing</span>   
                                           <span class=hljs-number >22</span> rows omitted</code></pre>
<div class=page-foot >
  <div class=copyright >
    &copy; Cognitive Informatics and Statistics Lab. Last modified: February 01, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
  </div>
</div>
</div>
    </div>